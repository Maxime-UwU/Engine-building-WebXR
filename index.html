  <!DOCTYPE html>
<html lang="en">
<head>
    <title>Engine building</title>
    <!--a-frame-->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <!--physics system-->
    <script src="https://mixedreality.mozilla.org/ammo.js/builds/ammo.wasm.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js"></script>
    <!--Hands controller-->
    <script src="https://unpkg.com/super-hands@^3.0.3/dist/super-hands.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.misc.min.js"></script>

    <script src="http://kripken.github.io/ammo.js/builds/ammo.wasm.js"></script>



</head>
<body>

  <script>
    AFRAME.registerComponent('ammo-restitution', {
  schema: { default: 0.5 },
  init() {
    const el = this.el;
    const restitution = this.data;
    el.addEventListener('body-loaded', function () {
      el.body.setRestitution(restitution);
    });
  }
});
  </script>
  
    <a-scene physics="driver: ammo; debug: true; debugDrawMode: 1; restitution: 1.5" >
    

      <a-entity id="rig" position="0 2.5 0">
        <a-entity id="camera" camera look-controls></a-entity>

      </a-entity>

      <!--Controllers-->
<a-entity>
  <!--Right controller-->
      <a-entity 
                sphere-collider="objects:a-box;"
                super-hands
                hand-controls="hand:right;color:red;"
                position="0 2.5 0"
          ></a-entity>

          <!--Left controller-->
          <a-entity 
                sphere-collider="objects:a-box;"
                super-hands
                hand-controls="hand:left;color:red;"
                position="0 2.5 0"
          ></a-entity>
      
        </a-entity>
        

          


          <!--Camera-->
          <a-entity 
          camera="active: true"
          look-controls 
          wasd-controls
          position="0 2 0"
          ammo-body="type:kinematic"
          ></a-entity>

          

          

          

        
        <a-assets>
            <img id="floor-NRM" src="assets/Metal_Floor/Metal_Plate_048_normal.jpg">
            <img id="wall-NRM" src="assets/Concrete_Wall/Concrete_Wall_011_normal.jpg">
            <img id="roof-NRM" src="assets/Metal_Roof/Metal_Tiles_004_normal.jpg">
            <a-assets id="work-table-model" src="assets/table_with_metal_legs/scene.gltf"></a-assets>
            <a-assets-item id="engine-model" src="assets/disassembled_v8_engine_block/scene.gltf"></a-assets-item>
            <a-assets-item id="table-model" src="assets/blacksmith_table/scene.gltf"></a-assets-item>
            <a-assests-item id="leftHand" src="assets/player_object/left_hand_low.glb"></a-assests-item>
        </a-assets>


        <a-plane 
        position="0 0 0" rotation="-90 0 0" width="20" height="20" 
        ammo-shape="type:box"
          ammo-body="type:static"
        
        src="assets/Metal_Floor/Metal_Plate_048_basecolor.jpg"
        normal-map="#floor-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"
      roughness = 0.3
        ></a-plane>


        <a-box
  ammo-body="type:static;"
  ammo-shape="type:box"
  width="20"
  height="20"
  depth="0,000001"
  rotation="-90 0 0"
  visible="false"
  position="0 0 0"
  ammo-restitution="0.5"
  visible="false"
></a-box>


        <a-plane 
        position="0 0 -20" rotation="-90 0 0" width="20" height="20" 
        ammo-body="type:static"
        src="assets/Metal_Floor/Metal_Plate_048_basecolor.jpg"
        normal-map="#floor-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"
      roughness = 0.3
        ></a-plane>

        <a-box
        ammo-body="type:static;"
        ammo-shape="type:box"
        width="20"
        height="20"
        depth="0,000001"
        rotation="-90 0 0"
        visible="false"
        position="0 0 -20"
        ammo-restitution="0.5"
        visible="false"
      ></a-box>

        <a-plane 
        position="-20 0 0" rotation="-90 0 0" width="20" height="20" 
        ammo-body="type:static"
        src="assets/Metal_Floor/Metal_Plate_048_basecolor.jpg"
        normal-map="#floor-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"
      roughness = 0.3
        ></a-plane>

        <a-box
        ammo-body="type:static;"
        ammo-shape="type:box"
        width="20"
        height="20"
        depth="0,000001"
        rotation="-90 0 0"
        visible="false"
        position="-20 0 0"
        ammo-restitution="0.5"
        visible="false"
      ></a-box>

        <a-plane 
        position="-20 0 -20" rotation="-90 0 0" width="20" height="20" 
        ammo-body="type:static"
        src="assets/Metal_Floor/Metal_Plate_048_basecolor.jpg"
        normal-map="#floor-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"
      roughness = 0.3
        ></a-plane>

        <a-box
        ammo-body="type:static;"
        ammo-shape="type:box"
        width="20"
        height="20"
        depth="0,000001"
        rotation="-90 0 0"
        visible="false"
        position="-20 0 -20"
        ammo-restitution="0.5"
        visible="false"
      ></a-box>


        <a-plane 
        position="0 10 -30" rotation="0 0 0" width="20" height="20" 
        ammo-body="type:static"
        src="assets/Concrete_Wall/Concrete_Wall_011_basecolor.jpg"
        normal-map="#wall-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"   
      roughness = 0.5
        ></a-plane>

        <a-plane 
        position="-20 10 -30" rotation="0 0 0" width="20" height="20"
        ammo-body="type:static"
        src="assets/Concrete_Wall/Concrete_Wall_011_basecolor.jpg"
        normal-map="#wall-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"   
      roughness = 0.5
        ></a-plane>
        
        <a-plane 
        position="-30 10 0" rotation="0 90 0" width="20" height="20" 
        ammo-body="type:static"
        src="assets/Concrete_Wall/Concrete_Wall_011_basecolor.jpg"
        normal-map="#wall-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"   
      roughness = 0.5
        ></a-plane>

        <a-plane 
        position="-30 10 -20" rotation="0 90 0" width="20" height="20" 
        ammo-body="type:static"
        src="assets/Concrete_Wall/Concrete_Wall_011_basecolor.jpg"
        normal-map="#wall-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"   
      roughness = 0.5
        ></a-plane>
        
        <a-plane 
        position="10 10 0" rotation="0 -90 0" width="20" height="20" 
        ammo-body="type:static"
        src="assets/Concrete_Wall/Concrete_Wall_011_basecolor.jpg"
        normal-map="#wall-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"   
      roughness = 0.5
        ></a-plane>

        <a-plane 
        position="10 10 -20" rotation="0 -90 0" width="20" height="20" 
        ammo-body="type:static"
        src="assets/Concrete_Wall/Concrete_Wall_011_basecolor.jpg"
        normal-map="#wall-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"   
      roughness = 0.5
        ></a-plane>
        
        <a-plane 
        position="0 10 10" rotation="0 180 0" width="20" height="20"
        ammo-body="type:static"
        src="assets/Concrete_Wall/Concrete_Wall_011_basecolor.jpg"
        normal-map="#wall-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"   
      roughness = 0.5
      ></a-plane>

        <a-plane 
        position="-20 10 10" rotation="0 180 0" width="20" height="20" 
        ammo-body="type:static"
        src="assets/Concrete_Wall/Concrete_Wall_011_basecolor.jpg"
        normal-map="#wall-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"   
      roughness = 0.5
        ></a-plane>

        
        <a-plane 
        position="0 20 0" rotation="90 0 0" width="20" height="20" 
        ammo-body="type:static"
        src="assets/Metal_Roof/Metal_Tiles_004_basecolor.jpg"
        normal-map="#roof-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"   
      roughness = 0.3
        ></a-plane>

        <a-plane 
        position="0 20 -20" rotation="90 0 0" width="20" height="20" 
        ammo-body="type:static"
        src="assets/Metal_Roof/Metal_Tiles_004_basecolor.jpg"
        normal-map="#roof-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"   
      roughness = 0.3
        ></a-plane>

        <a-plane 
        position="-20 20 0" rotation="90 0 0" width="20" height="20" 
        ammo-body="type:static"
        src="assets/Metal_Roof/Metal_Tiles_004_basecolor.jpg"
        normal-map="#roof-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"   
      roughness = 0.3
        ></a-plane>

        <a-plane 
        position="-20 20 -20" rotation="90 0 0" width="20" height="20"
        ammo-body="type:static" 
        src="assets/Metal_Roof/Metal_Tiles_004_basecolor.jpg"
        normal-map="#roof-NRM"
      normal-texture-repeat="1 1"
      normal-scale="1 -1"   
      roughness = 0.3
        ></a-plane>

        <a-cylinder ammo-body="type:static" position="-8.2 0.5 -8" radius="1.5" height="2.5" color="#808080" ammo-shape="type: hacd"></a-cylinder>

        <a-entity>

            <a-entity gltf-model="#engine-model"
            
        position="-8.2 3.5 -8" rotation="0 0 0" scale="0.2 0.2 0.2"
        ammo-body="type:static" ammo-shape="type: hacd"
        ></a-entity>


        <a-entity gltf-model="#table-model"
     position="-16.1 1.5 -11.1" rotation="0 90 0" scale="3 5 3" 
      ></a-entity>


    <a-sphere 
    grabbable
    ammo-body="type: dynamic;"
    ammo-shape="type: sphere"    
    position="-14.5 8 -11.1" 
    color="red" 
    ammo-restitution="1.5"
    ></a-sphere>



<!--
    <a-sphere
  color="red"  
  scale="0.5 0.5 0.5"
  ammo-body="type: dynamic;"
  ammo-shape="type: sphere"
  radius="0.19"
  ammo-restitution="1.5"
></a-sphere>
-->


    <a-entity gltf-model="#table-model"
        position="-16.1 1.5 -5.1" rotation="0 90 0" scale="3 5 3" 
    ></a-entity>

    <a-entity gltf-model="#table-model"
        position="-14 1.5 -15" rotation="0 0 0" scale="3 5 3" 
    ></a-entity>

    <a-entity gltf-model="#table-model"
        position="-8 1.5 -15" rotation="0 0 0" scale="3 5 3" 
    ></a-entity>

    <a-entity gltf-model="#table-model"
        position="0.1 1.5 -11.1" rotation="0 90 0" scale="3 5 3" 
    ></a-entity>

    <a-entity gltf-model="#table-model"
        position="0.1 1.5 -5.1" rotation="0 90 0" scale="3 5 3" 
    ></a-entity>

    <a-entity gltf-model="#table-model" 
         position="-2 1.5 -15" rotation="0 0 0" scale="3 5 3"
    ></a-entity>

    <a-entity gltf-model="#work-table-model"
        position="-8.5 2.3 -3" rotation="0 90 0" scale="0.002 0.003 0.002" 
    ></a-entity>

    <a-box
                grabbable
                
                id="thebox"
                scale="0.5 0.5 0.5"
                color="blue"
                position="-4.5 1.5 -4"

            ></a-box>

    
    <a-entity camera look-controls wasd-controls position="0 3.8 0" ></a-entity>
    


    </a-entity>

    <!---->

        <a-box
  ammo-body="type:static;"
  ammo-shape="type:box"
  width="1.9"
  height="6"
  depth="2.6"
  rotation="-90 0 0"
  position="-16.1 1.5 -11.1"
  ammo-restitution="0.5"
  visible="false"
></a-box>

<a-box
  ammo-body="type:static;"
  ammo-shape="type:box"
  width="1.9"
  height="6"
  depth="2.6"
  rotation="-90 0 0"
  position="-16.1 1.5 -5.1"
  ammo-restitution="0.5"
  visible="false"
></a-box>

<a-box
  ammo-body="type:static;"
  ammo-shape="type:box"
  width="1.9"
  height="6"
  depth="2.6"
  rotation="-90 90 0"
  position="-14 1.5 -15"
  ammo-restitution="0.5"
  visible="false"
></a-box>

<a-box
  ammo-body="type:static;"
  ammo-shape="type:box"
  width="1.9"
  height="6"
  depth="2.6"
  rotation="-90 90 0"
  position="-8 1.5 -15"
  ammo-restitution="0.5"
  visible="false"
></a-box>

<a-box
  ammo-body="type:static;"
  ammo-shape="type:box"
  width="1.9"
  height="6"
  depth="2.6"
  rotation="-90 90 0"
  position="-2 1.5 -15"
  ammo-restitution="0.5"
  visible="false"
></a-box>

<a-box
  ammo-body="type:static;"
  ammo-shape="type:box"
  width="1.9"
  height="6"
  depth="2.6"
  rotation="-90 0 0"
  position="0.1 1.5 -11.1"
  ammo-restitution="0.5"
  visible="false"
></a-box>

<a-box
  ammo-body="type:static;"
  ammo-shape="type:box"
  width="1.9"
  height="6"
  depth="2.6"
  rotation="-90 0 0"
  position="0.1 1.5 -5.1"
  ammo-restitution="0.5"
  visible="false"
></a-box>

<a-box
  ammo-body="type:static;"
  ammo-shape="type:box"
  width="1.5"
  height="3.3"
  depth="2.8"
  rotation="-90 90 0"
  position="-8.5 1 -3"
  ammo-restitution="0.5"
  visible="false"
></a-box>
    </a-scene>
    
</body>
</html>

